
<!-- Create a menu from the "Fixed Pages" and "Menu Pages" (identified by "" and "p",
  respectively) sections in Netlify CMS -->
  {{ with .Site.Params.logo }}
  <div class="logo">
    <a href="/"><img src="{{- . -}}"></a>
  </div>
  {{ end }}
  <a href="#open" id="open">☰</a>
<nav>
  <ul>
    <li>
      <div class="undoer-container">
        <a href="#close" class="undoer">✕</a>
      </div>
    </li>
    <li title="{{ i18n "dark_mode" }}">{{- partial "dark-mode.html" . -}}</li>
    {{ $currentPage := . }}
    {{ range .Site.Menus.main.ByWeight }}
    <li><a class="{{ if ($currentPage.HasMenuCurrent "main" .) }}active{{end}}
                  {{ if ($currentPage.IsMenuCurrent "main" .) }} active{{end}}"
      href="{{ .URL | absLangURL }}" title="{{ .Title }}">{{ .Name }}</a></li>
    {{ end }}
    {{- partial "language-switcher.html" . -}}
  </ul>
</nav>

<style>
  
  .logo {
    height: 100%;
    position: relative;
    align-self: center;
  }
  header .logo a {
    padding: 0 0;
    height: 100%;
  }

  .logo img {
    text-align: center;
    background-color: {{ $.Site.Params.theme.light.color_logo_background }};
    opacity: .8;
    border-radius: 15px;
    max-width: 20rem;
  }

  body.dark-mode .logo img {
    background-color: {{ $.Site.Params.theme.dark.color_logo_background }};
    opacity: 1;
  }
  .logo:hover img,
  .logo:active img {
    filter: brightness(150%);
    opacity: .8;
  }
  @media only screen and (max-width: 800px) {
    .logo {
      display: none;
      margin: 0 0;
      padding: 0 0;
      align-self: left;
      padding-left: 2px;
    }
    .logo a {
      width: 2rem;
    }
    .logo img {
      height: auto;
      width: auto;
    }
  }

</style>